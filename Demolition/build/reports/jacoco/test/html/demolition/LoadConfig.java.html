<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LoadConfig.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Demolition</a> &gt; <a href="index.source.html" class="el_package">demolition</a> &gt; <span class="el_source">LoadConfig.java</span></div><h1>LoadConfig.java</h1><pre class="source lang-java linenums">package demolition;

import processing.core.*;
import processing.data.*;
import java.io.*;
import java.util.*;
import java.math.*;

public class LoadConfig extends PApplet{
    public PImage emptySprite;
    public PImage solidSprite;
    public PImage brokenSprite;
    public PImage goalSprite;
    public PImage clockSprite;
    public PImage playerLogoSprite;

    //Enemies Sprite
    public PImage down1RED;
    public PImage down2RED;
    public PImage down3RED;
    public PImage down4RED;
    public PImage up1RED;
    public PImage up2RED;
    public PImage up3RED;
    public PImage up4RED;
    public PImage left1RED;
    public PImage left2RED;
    public PImage left3RED;
    public PImage left4RED;
    public PImage right1RED;
    public PImage right2RED;
    public PImage right3RED;
    public PImage right4RED;

    public PImage down1YELLOW;
    public PImage down2YELLOW;
    public PImage down3YELLOW;
    public PImage down4YELLOW;
    public PImage up1YELLOW;
    public PImage up2YELLOW;
    public PImage up3YELLOW;
    public PImage up4YELLOW;
    public PImage left1YELLOW;
    public PImage left2YELLOW;
    public PImage left3YELLOW;
    public PImage left4YELLOW;
    public PImage right1YELLOW;
    public PImage right2YELLOW;
    public PImage right3YELLOW;
    public PImage right4YELLOW;

    //Bomb Sprite
    public PImage bombsprite;
    public PImage bombSprite1;
    public PImage bombSprite2;
    public PImage bombSprite3;
    public PImage bombSprite4;
    public PImage bombSprite5;
    public PImage bombSprite6;
    public PImage bombSprite7;
    public PImage bombSprite8;

    //Explosion Sprite
    public PImage explosionCentreSprite;
    public PImage explosionBottomSprite;
    public PImage explosionLeftSprite;
    public PImage explosionRightSprite;
    public PImage explosionTopSprite;
    public PImage explosionHorizontalSprite;
    public PImage explosionVerticalSprite;


    //Store the information
<span class="fc" id="L74">    public ArrayList&lt;RedEnemies&gt; redEnemiesList = new ArrayList&lt;RedEnemies&gt;(); </span>
<span class="fc" id="L75">    public ArrayList&lt;YellowEnemies&gt; yellowEnemiesList = new ArrayList&lt;YellowEnemies&gt;(); </span>
<span class="fc" id="L76">    public ArrayList&lt;Integer&gt; brokenWallList = new ArrayList&lt;Integer&gt;(); </span>
<span class="fc" id="L77">    public ArrayList&lt;Integer&gt; solidWallList = new ArrayList&lt;Integer&gt;(); </span>
<span class="fc" id="L78">    public ArrayList&lt;Integer&gt; goalTileList = new ArrayList&lt;Integer&gt;(); </span>
<span class="fc" id="L79">    public ArrayList&lt;Bomb&gt; bombList = new ArrayList&lt;Bomb&gt;(); </span>

<span class="fc" id="L81">    public int time = 0;</span>
<span class="fc" id="L82">    public int level = 1;</span>
    public int lives;
<span class="fc" id="L84">    public boolean gameOver = false;</span>
<span class="fc" id="L85">    public boolean gameWin = false;</span>
<span class="fc" id="L86">    public boolean loseLives = false;</span>
<span class="fc" id="L87">    public boolean nextLevel = false;</span>

<span class="fc" id="L89">    public LoadConfig(){</span>
<span class="fc" id="L90">    }</span>

    //Load the information of the config file
    public HashMap&lt;String, String&gt; loadConfig(String path){
        //Creat a HashMap to store the information of config file
<span class="fc" id="L95">        HashMap&lt;String, String&gt; configList = new HashMap&lt;String, String&gt;();</span>

<span class="fc" id="L97">        File jsonFile = new File(path);</span>
<span class="fc" id="L98">        JSONObject config = loadJSONObject(jsonFile);</span>
<span class="fc" id="L99">        Integer lives = config.getInt(&quot;lives&quot;);</span>
<span class="fc" id="L100">        JSONArray levelsArray = config.getJSONArray(&quot;levels&quot;);</span>
<span class="fc" id="L101">        JSONObject level1 = levelsArray.getJSONObject(0);</span>
<span class="fc" id="L102">        String level1Path = level1.getString(&quot;path&quot;);</span>
<span class="fc" id="L103">        Integer level1Time = level1.getInt(&quot;time&quot;);</span>
<span class="fc" id="L104">        JSONObject level2 = levelsArray.getJSONObject(1);</span>
<span class="fc" id="L105">        String level2Path = level2.getString(&quot;path&quot;);</span>
<span class="fc" id="L106">        Integer level2Time = level2.getInt(&quot;time&quot;);</span>

        //Add the information
<span class="fc" id="L109">        configList.put(&quot;lives&quot;, String.valueOf(lives));</span>
<span class="fc" id="L110">        configList.put(&quot;path1&quot;, level1Path);</span>
<span class="fc" id="L111">        configList.put(&quot;path2&quot;, level2Path);</span>
<span class="fc" id="L112">        configList.put(&quot;time1&quot;, String.valueOf(level1Time));</span>
<span class="fc" id="L113">        configList.put(&quot;time2&quot;, String.valueOf(level2Time));</span>

        //About the time and the levels
        //Determine which level it is
<span class="pc bpc" id="L117" title="1 of 2 branches missed.">        if(this.level == 1){</span>
<span class="fc" id="L118">            time = Integer.parseInt(configList.get(&quot;time1&quot;));</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">        }else if(this.level == 2){</span>
<span class="nc" id="L120">            time = Integer.parseInt(configList.get(&quot;time2&quot;));</span>
        }
<span class="fc" id="L122">        this.lives = Integer.parseInt(configList.get(&quot;lives&quot;));</span>

<span class="fc" id="L124">        return configList;</span>
    }

    //Load the map according to the config file path
    public ArrayList&lt;String&gt; loadMap(String path, HashMap&lt;String, String&gt; configList){
        //Read the information in the path
        try{
<span class="fc" id="L131">            File f = new File(path);</span>
<span class="fc" id="L132">            BufferedReader br = new BufferedReader(new FileReader(f));</span>

            //Store the type of map
            String mapLine;
<span class="fc" id="L136">            ArrayList&lt;String&gt; mapList = new ArrayList&lt;String&gt;();</span>
<span class="fc bfc" id="L137" title="All 2 branches covered.">            while((mapLine = br.readLine()) != null){</span>
<span class="fc" id="L138">                String[] mapLineArray = mapLine.split(&quot;&quot;);</span>
<span class="fc bfc" id="L139" title="All 2 branches covered.">                for(String type: mapLineArray){</span>
<span class="fc" id="L140">                    mapList.add(type);</span>
                }
<span class="fc" id="L142">            }</span>
<span class="fc" id="L143">            return mapList;</span>
<span class="nc" id="L144">        }catch(Exception e){</span>
<span class="nc" id="L145">            return null;</span>
        }
    }

    //Find the location of the bombGuy
    public void locationBombGuy(ArrayList&lt;String&gt; mapList, BombGuy bombGuy){
<span class="fc" id="L151">        int bombGuyIndex = mapList.indexOf(&quot;P&quot;);</span>
        //System.out.println(bombGuyIndex);
<span class="fc" id="L153">        int row = (int) Math.floor(bombGuyIndex/15);</span>
<span class="fc" id="L154">        bombGuy.y = 48 + row * 32;</span>
<span class="fc" id="L155">        int column = (int) bombGuyIndex % 15;</span>
<span class="fc" id="L156">        bombGuy.x = column * 32;</span>
<span class="fc" id="L157">    }</span>

    //Find the location of the RED Enemies
    public ArrayList&lt;Integer&gt; enemiesIndexRED(ArrayList&lt;String&gt; mapList){
<span class="fc" id="L161">        ArrayList&lt;Integer&gt; indexListRED = new ArrayList&lt;Integer&gt;();</span>
<span class="fc bfc" id="L162" title="All 2 branches covered.">        for (int i = 0; i &lt; mapList.size(); i ++){</span>
<span class="fc bfc" id="L163" title="All 2 branches covered.">            if (mapList.get(i).equals(&quot;R&quot;)){</span>
<span class="fc" id="L164">                indexListRED.add(i);</span>
            }
        }
<span class="fc" id="L167">        return indexListRED;</span>
    }

    //Find the location of the YELLOW Enemies
    public ArrayList&lt;Integer&gt; enemiesIndexYELLOW(ArrayList&lt;String&gt; mapList){
<span class="fc" id="L172">        ArrayList&lt;Integer&gt; indexListYELLOW = new ArrayList&lt;Integer&gt;();</span>
<span class="fc bfc" id="L173" title="All 2 branches covered.">        for (int i = 0; i &lt; mapList.size(); i ++){</span>
<span class="fc bfc" id="L174" title="All 2 branches covered.">            if (mapList.get(i).equals(&quot;Y&quot;)){</span>
<span class="fc" id="L175">                indexListYELLOW.add(i);</span>
            }
        }
<span class="fc" id="L178">        return indexListYELLOW;</span>
    }
  
    //Draw the map according to the mapList
    public void drawMap(ArrayList&lt;String&gt; mapList, App app){
        int x;
        int y;
        int row;
        int column;
        PImage sprite;
<span class="fc bfc" id="L188" title="All 2 branches covered.">        for (int i = 0; i &lt; mapList.size(); i ++){</span>
<span class="fc" id="L189">            row = (int) Math.floor(i/15);</span>
<span class="fc" id="L190">            y = 64 + row * 32;</span>
<span class="fc" id="L191">            column = (int) i % 15;</span>
<span class="fc" id="L192">            x = column * 32;</span>

            //Sort the type of the Map
<span class="fc bfc" id="L195" title="All 3 branches covered.">            switch (mapList.get(i)) {</span>
                case &quot;W&quot;:
<span class="fc" id="L197">                    sprite = this.solidSprite;</span>
<span class="fc" id="L198">                    break;</span>
                case &quot;G&quot;:
<span class="fc" id="L200">                    sprite = this.goalSprite;</span>
<span class="fc" id="L201">                    break;</span>
                default:
<span class="fc" id="L203">                    sprite = this.emptySprite;</span>
                    break;
            }
            //Draw out the Map
<span class="fc" id="L207">            app.image(sprite, x, y, 32, 32);</span>
        }
<span class="fc bfc" id="L209" title="All 2 branches covered.">        for (int u = 0; u &lt; brokenWallList.size(); u ++){</span>
<span class="fc" id="L210">            row = (int) Math.floor(brokenWallList.get(u)/15);</span>
<span class="fc" id="L211">            y = 64 + row * 32;</span>
<span class="fc" id="L212">            column = (int) brokenWallList.get(u) % 15;</span>
<span class="fc" id="L213">            x = column * 32;</span>
<span class="fc" id="L214">            sprite = this.brokenSprite;</span>
            //Draw out the Map
<span class="fc" id="L216">            app.image(sprite, x, y, 32, 32);</span>
        }
<span class="fc" id="L218">    }</span>

    //Draw the Win or the Game Over Screen
    public void drawScreen(boolean stateBoolean, App app){
<span class="fc" id="L222">        String state = String.valueOf(stateBoolean);</span>

        //Store the different char array according to the state
<span class="fc" id="L225">        char[] winArray = {'Y', 'O', 'U', ' ', 'W', 'I', 'N'};</span>
<span class="fc" id="L226">        char[] loseArray = {'G', 'A', 'M', 'E',' ', 'O', 'V', 'E', 'R'};</span>

<span class="fc" id="L228">        PFont font = app.createFont(&quot;src/main/resources/PressStart2P-Regular.ttf&quot;, 180, true);</span>
<span class="fc" id="L229">        app.textFont(font, 32);</span>

        //Determine which Screen should output
<span class="pc bpc" id="L232" title="1 of 3 branches missed.">        switch (state) {</span>
            case &quot;true&quot;:
<span class="fc" id="L234">                app.text(winArray, 0, 7, 120, 240);</span>
<span class="fc" id="L235">                break;</span>
            case &quot;false&quot;:
<span class="fc" id="L237">            app.text(loseArray, 0, 9, 96, 240);</span>
            break;
        }
<span class="fc" id="L240">        app.fill(0,0,0);</span>
<span class="fc" id="L241">    }</span>

    //Draw the two main UI elements
    public void drawUI(App app, int level){
<span class="fc bfc" id="L245" title="All 2 branches covered.">        if (loseLives){</span>
<span class="fc bfc" id="L246" title="All 2 branches covered.">            if (app.count % 60 == 0){</span>
<span class="fc" id="L247">                lives -= 1;</span>
<span class="fc" id="L248">                loseLives = false;</span>
            }
        }
<span class="fc bfc" id="L251" title="All 2 branches covered.">        if (lives == 0){</span>
<span class="fc" id="L252">            gameOver = true;</span>
<span class="fc bfc" id="L253" title="All 2 branches covered.">        }else if (app.count % 60 == 0){</span>
<span class="fc" id="L254">            time -= 1;</span>
        }
<span class="fc" id="L256">        String timeString = String.valueOf(time);</span>

        //Draw the Sprite
<span class="fc" id="L259">        app.image(this.clockSprite, 256, 16, 32, 32);</span>
<span class="fc" id="L260">        app.image(this.playerLogoSprite, 128, 16, 32, 32);</span>

        //Draw the text
<span class="fc" id="L263">        PFont font = app.createFont(&quot;src/main/resources/PressStart2P-Regular.ttf&quot;, 180, true);</span>
<span class="fc" id="L264">        app.textFont(font, 22);</span>
<span class="fc" id="L265">        app.text(lives, 170, 46);</span>
<span class="fc" id="L266">        app.text(timeString, 298, 46);</span>
<span class="fc" id="L267">        app.fill(0,0,0);</span>
<span class="fc" id="L268">    }</span>

    public void createEnemiesRED(App app){
<span class="fc" id="L271">        ArrayList&lt;Integer&gt; indexListRED = app.indexListRED;</span>
<span class="fc bfc" id="L272" title="All 2 branches covered.">        for (int i = 0; i &lt; indexListRED.size(); i++){</span>
<span class="fc" id="L273">            int row = (int) Math.floor((indexListRED.get(i))/15);</span>
<span class="fc" id="L274">            int y = 48 + row * 32;</span>
<span class="fc" id="L275">            int column = (int) (indexListRED.get(i)) % 15;</span>
<span class="fc" id="L276">            int x = column * 32;</span>
<span class="fc" id="L277">            RedEnemies redEnemy = new RedEnemies(x, y);</span>
<span class="fc" id="L278">            this.redEnemiesList.add(redEnemy);</span>
        }
<span class="fc" id="L280">    }</span>

    public void createEnemiesYELLOW(App app){
<span class="fc" id="L283">        ArrayList&lt;Integer&gt; indexListYELLOW = app.indexListYELLOW;</span>
<span class="fc bfc" id="L284" title="All 2 branches covered.">        for (int i = 0; i &lt; indexListYELLOW.size(); i++){</span>
<span class="fc" id="L285">            int row = (int) Math.floor((indexListYELLOW.get(i))/15);</span>
<span class="fc" id="L286">            int y = 48 + row * 32;</span>
<span class="fc" id="L287">            int column = (int) (indexListYELLOW.get(i)) % 15;</span>
<span class="fc" id="L288">            int x = column * 32;</span>
<span class="fc" id="L289">            YellowEnemies yellowEnemy = new YellowEnemies(x, y);</span>
<span class="fc" id="L290">            this.yellowEnemiesList.add(yellowEnemy);</span>
        }
<span class="fc" id="L292">    }</span>

    public void loadBrokenWall(App app){
<span class="fc bfc" id="L295" title="All 2 branches covered.">        for (int i = 0; i &lt; app.mapList.size(); i ++){</span>
<span class="fc bfc" id="L296" title="All 2 branches covered.">            if (app.mapList.get(i).equals(&quot;B&quot;)){</span>
<span class="fc" id="L297">                brokenWallList.add(i);</span>
            }
        }
<span class="fc" id="L300">    }</span>

    public void loadSolidWall(App app){
<span class="fc bfc" id="L303" title="All 2 branches covered.">        for (int i = 0; i &lt; app.mapList.size(); i ++){</span>
<span class="fc bfc" id="L304" title="All 2 branches covered.">            if (app.mapList.get(i).equals(&quot;W&quot;)){</span>
<span class="fc" id="L305">                solidWallList.add(i);</span>
            }
        }
<span class="fc" id="L308">    }</span>

    public void loadGoalTile(App app){
<span class="fc bfc" id="L311" title="All 2 branches covered.">        for (int i = 0; i &lt; app.mapList.size(); i ++){</span>
<span class="fc bfc" id="L312" title="All 2 branches covered.">            if (app.mapList.get(i).equals(&quot;G&quot;)){</span>
<span class="fc" id="L313">                goalTileList.add(i);</span>
            }
        }
<span class="fc" id="L316">    }</span>

    public void setSpriteBomb(App app){
<span class="fc" id="L319">        this.bombSprite1 = app.loadImage(&quot;src/main/resources/bomb/bomb1.png&quot;);</span>
<span class="fc" id="L320">        this.bombSprite2 = app.loadImage(&quot;src/main/resources/bomb/bomb2.png&quot;);</span>
<span class="fc" id="L321">        this.bombSprite3 = app.loadImage(&quot;src/main/resources/bomb/bomb3.png&quot;);</span>
<span class="fc" id="L322">        this.bombSprite4 = app.loadImage(&quot;src/main/resources/bomb/bomb4.png&quot;);</span>
<span class="fc" id="L323">        this.bombSprite5 = app.loadImage(&quot;src/main/resources/bomb/bomb5.png&quot;);</span>
<span class="fc" id="L324">        this.bombSprite6 = app.loadImage(&quot;src/main/resources/bomb/bomb6.png&quot;);</span>
<span class="fc" id="L325">        this.bombSprite7 = app.loadImage(&quot;src/main/resources/bomb/bomb7.png&quot;);</span>
<span class="fc" id="L326">        this.bombSprite8 = app.loadImage(&quot;src/main/resources/bomb/bomb8.png&quot;);</span>
<span class="fc" id="L327">        this.bombSprite8 = app.loadImage(&quot;src/main/resources/bomb/bomb8.png&quot;);</span>

<span class="fc" id="L329">        this.explosionCentreSprite = app.loadImage(&quot;src/main/resources/explosion/centre.png&quot;);</span>
<span class="fc" id="L330">        this.explosionBottomSprite = app.loadImage(&quot;src/main/resources/explosion/end_bottom.png&quot;);</span>
<span class="fc" id="L331">        this.explosionLeftSprite = app.loadImage(&quot;src/main/resources/explosion/end_left.png&quot;);</span>
<span class="fc" id="L332">        this.explosionRightSprite = app.loadImage(&quot;src/main/resources/explosion/end_right.png&quot;);</span>
<span class="fc" id="L333">        this.explosionTopSprite = app.loadImage(&quot;src/main/resources/explosion/end_top.png&quot;);</span>
<span class="fc" id="L334">        this.explosionHorizontalSprite = app.loadImage(&quot;src/main/resources/explosion/horizontal.png&quot;);</span>
<span class="fc" id="L335">        this.explosionVerticalSprite = app.loadImage(&quot;src/main/resources/explosion/vertical.png&quot;);</span>
<span class="fc" id="L336">    }</span>

    public void setSpriteEnemies(App app){
        //RED
<span class="fc" id="L340">        this.down1RED = app.loadImage(&quot;src/main/resources/red_enemy/red_down1.png&quot;);</span>
<span class="fc" id="L341">        this.down2RED = app.loadImage(&quot;src/main/resources/red_enemy/red_down2.png&quot;);</span>
<span class="fc" id="L342">        this.down3RED = app.loadImage(&quot;src/main/resources/red_enemy/red_down3.png&quot;);</span>
<span class="fc" id="L343">        this.down4RED = app.loadImage(&quot;src/main/resources/red_enemy/red_down4.png&quot;);</span>

<span class="fc" id="L345">        this.up1RED = app.loadImage(&quot;src/main/resources/red_enemy/red_up1.png&quot;);</span>
<span class="fc" id="L346">        this.up2RED = app.loadImage(&quot;src/main/resources/red_enemy/red_up2.png&quot;);</span>
<span class="fc" id="L347">        this.up3RED = app.loadImage(&quot;src/main/resources/red_enemy/red_up3.png&quot;);</span>
<span class="fc" id="L348">        this.up4RED = app.loadImage(&quot;src/main/resources/red_enemy/red_up4.png&quot;);</span>
    
<span class="fc" id="L350">        this.left1RED = app.loadImage(&quot;src/main/resources/red_enemy/red_left1.png&quot;);</span>
<span class="fc" id="L351">        this.left2RED = app.loadImage(&quot;src/main/resources/red_enemy/red_left2.png&quot;);</span>
<span class="fc" id="L352">        this.left3RED = app.loadImage(&quot;src/main/resources/red_enemy/red_left3.png&quot;);</span>
<span class="fc" id="L353">        this.left4RED = app.loadImage(&quot;src/main/resources/red_enemy/red_left4.png&quot;);</span>
    
<span class="fc" id="L355">        this.right1RED = app.loadImage(&quot;src/main/resources/red_enemy/red_right1.png&quot;);</span>
<span class="fc" id="L356">        this.right2RED = app.loadImage(&quot;src/main/resources/red_enemy/red_right2.png&quot;);</span>
<span class="fc" id="L357">        this.right3RED = app.loadImage(&quot;src/main/resources/red_enemy/red_right3.png&quot;);</span>
<span class="fc" id="L358">        this.right4RED = app.loadImage(&quot;src/main/resources/red_enemy/red_right4.png&quot;);</span>


        //YELLOW
<span class="fc" id="L362">        this.down1YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_down1.png&quot;);</span>
<span class="fc" id="L363">        this.down2YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_down2.png&quot;);</span>
<span class="fc" id="L364">        this.down3YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_down3.png&quot;);</span>
<span class="fc" id="L365">        this.down4YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_down4.png&quot;);</span>

<span class="fc" id="L367">        this.up1YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_up1.png&quot;);</span>
<span class="fc" id="L368">        this.up2YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_up2.png&quot;);</span>
<span class="fc" id="L369">        this.up3YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_up3.png&quot;);</span>
<span class="fc" id="L370">        this.up4YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_up4.png&quot;);</span>
    
<span class="fc" id="L372">        this.left1YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_left1.png&quot;);</span>
<span class="fc" id="L373">        this.left2YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_left2.png&quot;);</span>
<span class="fc" id="L374">        this.left3YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_left3.png&quot;);</span>
<span class="fc" id="L375">        this.left4YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_left4.png&quot;);</span>
    
<span class="fc" id="L377">        this.right1YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_right1.png&quot;);</span>
<span class="fc" id="L378">        this.right2YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_right2.png&quot;);</span>
<span class="fc" id="L379">        this.right3YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_right3.png&quot;);</span>
<span class="fc" id="L380">        this.right4YELLOW = app.loadImage(&quot;src/main/resources/yellow_enemy/yellow_right4.png&quot;);</span>
<span class="fc" id="L381">    }</span>

    public void setSpriteBasic(App app){
<span class="fc" id="L384">        app.loadConfig.emptySprite = app.loadImage(&quot;src/main/resources/empty/empty.png&quot;);</span>
<span class="fc" id="L385">        app.loadConfig.solidSprite = app.loadImage(&quot;src/main/resources/wall/solid.png&quot;);</span>
<span class="fc" id="L386">        app.loadConfig.brokenSprite = app.loadImage(&quot;src/main/resources/broken/broken.png&quot;);</span>
<span class="fc" id="L387">        app.loadConfig.goalSprite = app.loadImage(&quot;src/main/resources/goal/goal.png&quot;);</span>
<span class="fc" id="L388">        app.loadConfig.clockSprite = app.loadImage(&quot;src/main/resources/icons/clock.png&quot;);</span>
<span class="fc" id="L389">        app.loadConfig.playerLogoSprite = app.loadImage(&quot;src/main/resources/icons/player.png&quot;);</span>
<span class="fc" id="L390">        app.bombGuy.spriteDown1 = app.loadImage(&quot;src/main/resources/player/player1.png&quot;);</span>
<span class="fc" id="L391">        app.bombGuy.spriteDown2 = app.loadImage(&quot;src/main/resources/player/player2.png&quot;);</span>
<span class="fc" id="L392">        app.bombGuy.spriteDown3 = app.loadImage(&quot;src/main/resources/player/player3.png&quot;);</span>
<span class="fc" id="L393">        app.bombGuy.spriteDown4 = app.loadImage(&quot;src/main/resources/player/player4.png&quot;);</span>
<span class="fc" id="L394">        app.bombGuy.spriteUp1 = app.loadImage(&quot;src/main/resources/player/player_up1.png&quot;);</span>
<span class="fc" id="L395">        app.bombGuy.spriteUp2 = app.loadImage(&quot;src/main/resources/player/player_up2.png&quot;);</span>
<span class="fc" id="L396">        app.bombGuy.spriteUp3 = app.loadImage(&quot;src/main/resources/player/player_up3.png&quot;);</span>
<span class="fc" id="L397">        app.bombGuy.spriteUp4 = app.loadImage(&quot;src/main/resources/player/player_up4.png&quot;);</span>
<span class="fc" id="L398">        app.bombGuy.spriteRight1 = app.loadImage(&quot;src/main/resources/player/player_right1.png&quot;);</span>
<span class="fc" id="L399">        app.bombGuy.spriteRight2 = app.loadImage(&quot;src/main/resources/player/player_right2.png&quot;);</span>
<span class="fc" id="L400">        app.bombGuy.spriteRight3 = app.loadImage(&quot;src/main/resources/player/player_right3.png&quot;);</span>
<span class="fc" id="L401">        app.bombGuy.spriteRight4 = app.loadImage(&quot;src/main/resources/player/player_right4.png&quot;);</span>
<span class="fc" id="L402">        app.bombGuy.spriteLeft1 = app.loadImage(&quot;src/main/resources/player/player_left1.png&quot;);</span>
<span class="fc" id="L403">        app.bombGuy.spriteLeft2 = app.loadImage(&quot;src/main/resources/player/player_left2.png&quot;);</span>
<span class="fc" id="L404">        app.bombGuy.spriteLeft3 = app.loadImage(&quot;src/main/resources/player/player_left3.png&quot;);</span>
<span class="fc" id="L405">        app.bombGuy.spriteLeft4 = app.loadImage(&quot;src/main/resources/player/player_left4.png&quot;);</span>
<span class="fc" id="L406">    }</span>

    public void createBombList(App app){
<span class="pc bpc" id="L409" title="1 of 2 branches missed.">        if (app.bombGuy.putBomb == true){</span>
<span class="fc" id="L410">            Bomb bomb = new Bomb(app.bombGuy.getX(), app.bombGuy.getY());</span>
<span class="fc" id="L411">            this.bombList.add(bomb);</span>
<span class="fc" id="L412">            int frameStart = app.count;</span>
<span class="fc" id="L413">            bomb.frameStart = frameStart;</span>
<span class="fc" id="L414">            app.bombGuy.putBomb = false;</span>
        }
<span class="fc" id="L416">    }</span>

    public void clearInformation(App app){
<span class="fc" id="L419">        this.redEnemiesList.clear();</span>
<span class="fc" id="L420">        this.yellowEnemiesList.clear();</span>
<span class="fc" id="L421">        this.brokenWallList.clear();</span>
<span class="fc" id="L422">        this.solidWallList.clear();</span>
<span class="fc" id="L423">        this.goalTileList.clear();</span>
<span class="fc" id="L424">        this.bombList.clear();</span>
<span class="fc" id="L425">    }</span>

    public void gameOver(App app){
<span class="fc bfc" id="L428" title="All 4 branches covered.">        if (this.lives == 0 || this.time &lt;= 0){</span>
<span class="fc" id="L429">            app.loadConfig.clearInformation(app);</span>
<span class="fc" id="L430">            this.gameOver = true;</span>
<span class="fc" id="L431">            this.clearInformation(app);</span>
<span class="fc" id="L432">            app.background(239, 129, 0);</span>
<span class="fc" id="L433">            this.drawScreen(false, app);</span>
<span class="fc bfc" id="L434" title="All 2 branches covered.">        }else if (this.loseLives == true){</span>
<span class="fc" id="L435">            app.reset = true;</span>
        }
<span class="fc bfc" id="L437" title="All 2 branches covered.">        if (app.loadConfig.gameOver == false){</span>
<span class="fc" id="L438">            app.loadConfig.drawUI(app, 1);</span>
        }
<span class="fc" id="L440">    }</span>

    public void loadLevel1(App app){
<span class="fc bfc" id="L443" title="All 4 branches covered.">        if (app.loadConfig.level == 1 &amp;&amp; app.start == true){</span>
<span class="fc" id="L444">            app.bombGuy.direction(app);</span>
            //load config file
<span class="fc" id="L446">            app.mapList = app.loadConfig.loadMap(app.configList.get(&quot;path1&quot;), app.configList);</span>

            //BombGuy
<span class="fc" id="L449">            app.loadConfig.locationBombGuy(app.mapList, app.bombGuy);</span>

            //Enemies
<span class="fc" id="L452">            app.indexListRED = app.loadConfig.enemiesIndexRED(app.mapList);</span>
<span class="fc" id="L453">            app.indexListYELLOW = app.loadConfig.enemiesIndexYELLOW(app.mapList);</span>
<span class="fc" id="L454">            app.loadConfig.createEnemiesRED(app);</span>
<span class="fc" id="L455">            app.loadConfig.createEnemiesYELLOW(app);</span>
<span class="fc" id="L456">            app.loadConfig.loadBrokenWall(app);</span>
<span class="fc" id="L457">            app.loadConfig.loadSolidWall(app);</span>
<span class="fc" id="L458">            app.loadConfig.loadGoalTile(app);</span>
<span class="fc bfc" id="L459" title="All 4 branches covered.">        }else if (app.reset == true &amp;&amp; app.loadConfig.level == 1){</span>
<span class="fc" id="L460">            app.bombGuy.direction(app);</span>
            //Clear the information of the level 1
<span class="fc" id="L462">            app.loadConfig.clearInformation(app);</span>

            //load config file
<span class="fc" id="L465">            app.mapList = app.loadConfig.loadMap(app.configList.get(&quot;path1&quot;), app.configList);</span>

            //BombGuy
<span class="fc" id="L468">            app.loadConfig.locationBombGuy(app.mapList, app.bombGuy);</span>

            //Enemies
<span class="fc" id="L471">            app.indexListRED = app.loadConfig.enemiesIndexRED(app.mapList);</span>
<span class="fc" id="L472">            app.indexListYELLOW = app.loadConfig.enemiesIndexYELLOW(app.mapList);</span>
<span class="fc" id="L473">            app.loadConfig.createEnemiesRED(app);</span>
<span class="fc" id="L474">            app.loadConfig.createEnemiesYELLOW(app);</span>
<span class="fc" id="L475">            app.loadConfig.loadBrokenWall(app);</span>
<span class="fc" id="L476">            app.loadConfig.loadSolidWall(app);</span>
<span class="fc" id="L477">            app.loadConfig.loadGoalTile(app);</span>
<span class="fc" id="L478">            app.reset = false;</span>
        }
<span class="fc" id="L480">    }</span>

    public void loadLevel2(App app){
<span class="fc bfc" id="L483" title="All 2 branches covered.">        if (app.loadConfig.nextLevel == true){</span>
<span class="fc" id="L484">            app.loadConfig.time = Integer.parseInt(app.configList.get(&quot;time2&quot;));</span>
<span class="fc" id="L485">            app.bombGuy.direction(app);</span>
            //Clear the information of the level 1
<span class="fc" id="L487">            app.loadConfig.clearInformation(app);</span>

            //load config file
<span class="fc" id="L490">            app.mapList = app.loadConfig.loadMap(app.configList.get(&quot;path2&quot;), app.configList);</span>

            //BombGuy
<span class="fc" id="L493">            app.loadConfig.locationBombGuy(app.mapList, app.bombGuy);</span>

            //Enemies
<span class="fc" id="L496">            app.indexListRED = app.loadConfig.enemiesIndexRED(app.mapList);</span>
<span class="fc" id="L497">            app.indexListYELLOW = app.loadConfig.enemiesIndexYELLOW(app.mapList);</span>
<span class="fc" id="L498">            app.loadConfig.createEnemiesRED(app);</span>
<span class="fc" id="L499">            app.loadConfig.createEnemiesYELLOW(app);</span>
<span class="fc" id="L500">            app.loadConfig.loadBrokenWall(app);</span>
<span class="fc" id="L501">            app.loadConfig.loadSolidWall(app);</span>
<span class="fc" id="L502">            app.loadConfig.loadGoalTile(app);</span>
<span class="fc" id="L503">            app.loadConfig.nextLevel = false;</span>
<span class="pc bpc" id="L504" title="1 of 4 branches missed.">        }else if (app.reset == true &amp;&amp; app.loadConfig.level == 2){</span>
<span class="fc" id="L505">            app.bombGuy.direction(app);</span>
            //Clear the information of the level 1
<span class="fc" id="L507">            app.loadConfig.clearInformation(app);</span>

            //load config file
<span class="fc" id="L510">            app.mapList = app.loadConfig.loadMap(app.configList.get(&quot;path1&quot;), app.configList);</span>

            //BombGuy
<span class="fc" id="L513">            app.loadConfig.locationBombGuy(app.mapList, app.bombGuy);</span>

            //Enemies
<span class="fc" id="L516">            app.indexListRED = app.loadConfig.enemiesIndexRED(app.mapList);</span>
<span class="fc" id="L517">            app.indexListYELLOW = app.loadConfig.enemiesIndexYELLOW(app.mapList);</span>
<span class="fc" id="L518">            app.loadConfig.createEnemiesRED(app);</span>
<span class="fc" id="L519">            app.loadConfig.createEnemiesYELLOW(app);</span>
<span class="fc" id="L520">            app.loadConfig.loadBrokenWall(app);</span>
<span class="fc" id="L521">            app.loadConfig.loadSolidWall(app);</span>
<span class="fc" id="L522">            app.loadConfig.loadGoalTile(app);</span>
<span class="fc" id="L523">            app.reset = false;</span>
        }
<span class="fc" id="L525">    }</span>

    public void loadGameWin(App app){
<span class="fc bfc" id="L528" title="All 2 branches covered.">        if (app.loadConfig.gameWin == true){</span>
<span class="fc" id="L529">            app.loadConfig.clearInformation(app);</span>
<span class="fc" id="L530">            app.background(239, 129, 0);</span>
<span class="fc" id="L531">            app.loadConfig.drawScreen(true, app);</span>
        }
<span class="fc" id="L533">    }</span>

    public void drawAll(App app){
        //--------boomguy
<span class="fc bfc" id="L537" title="All 4 branches covered.">        if (app.loadConfig.gameWin != true &amp;&amp; app.loadConfig.gameOver != true){</span>
<span class="fc" id="L538">            app.bombGuy.canMove(app);</span>
<span class="fc" id="L539">            app.bombGuy.tick(app);</span>
<span class="fc" id="L540">            app.bombGuy.direction(app);</span>
<span class="fc" id="L541">            app.bombGuy.drawGuy(app);</span>
<span class="fc" id="L542">            app.bombGuy.draw(app, app.bombGuy.sprite);</span>
<span class="fc" id="L543">            app.bombGuy.reachGoal(app);</span>
        }

        //--------EnemiesRED
<span class="fc bfc" id="L547" title="All 2 branches covered.">        for (int i = 0; i &lt; app.loadConfig.redEnemiesList.size(); i++){</span>
<span class="fc" id="L548">            RedEnemies redEnemy = app.loadConfig.redEnemiesList.get(i);</span>
<span class="fc" id="L549">            redEnemy.direction(app);</span>
<span class="fc" id="L550">            redEnemy.drawGuy(app);</span>
<span class="fc" id="L551">            redEnemy.draw(app, redEnemy.sprite);</span>
<span class="fc" id="L552">            redEnemy.enemiesCanMove(app);</span>
<span class="fc" id="L553">            redEnemy.tick(app);</span>
<span class="fc" id="L554">            redEnemy.killBombGuy(app);</span>
<span class="fc" id="L555">            redEnemy.beKilled(app);</span>
<span class="fc" id="L556">            redEnemy.removeEnemy(app);</span>
        }

        //--------EnemiesYELLOW
<span class="fc bfc" id="L560" title="All 2 branches covered.">        for (int u = 0; u &lt; app.loadConfig.yellowEnemiesList.size(); u++){</span>
<span class="fc" id="L561">            YellowEnemies yellowEnemy = app.loadConfig.yellowEnemiesList.get(u);</span>
<span class="fc" id="L562">            yellowEnemy.direction(app);</span>
<span class="fc" id="L563">            yellowEnemy.drawGuy(app);</span>
<span class="fc" id="L564">            yellowEnemy.draw(app, yellowEnemy.sprite);</span>
<span class="fc" id="L565">            yellowEnemy.enemiesCanMove(app);</span>
<span class="fc" id="L566">            yellowEnemy.tick(app);</span>
<span class="fc" id="L567">            yellowEnemy.killBombGuy(app);</span>
<span class="fc" id="L568">            yellowEnemy.beKilled(app);</span>
<span class="fc" id="L569">            yellowEnemy.removeEnemy(app);</span>
        }

        ////--------Bombs
<span class="fc bfc" id="L573" title="All 2 branches covered.">        for (int p = 0; p &lt; app.loadConfig.bombList.size(); p++){</span>
<span class="fc" id="L574">            Bomb bomb = app.loadConfig.bombList.get(p);</span>
<span class="fc" id="L575">            bomb.setSprite(app);</span>
<span class="fc" id="L576">            bomb.haveWall(app);</span>
<span class="fc" id="L577">            bomb.drawBomb(app);</span>
<span class="fc" id="L578">            bomb.rangeExplosion(app);</span>
<span class="fc" id="L579">            bomb.draw(app, bomb.sprite);</span>
        }
<span class="fc" id="L581">    }</span>

    public void keyPressed(App app) {
        // Left: 37
        // Up: 38
        // Right: 39
        // Down: 40
<span class="pc bpc" id="L588" title="1 of 4 branches missed.">        if (app.keyCode == 37 &amp;&amp; app.canMove == true){</span>
<span class="fc" id="L589">            app.bombGuy.moveLeft = true;</span>
<span class="fc" id="L590">            app.canMove = false;</span>
<span class="fc bfc" id="L591" title="All 4 branches covered.">        }else if (app.keyCode == 39 &amp;&amp; app.canMove == true){</span>
<span class="fc" id="L592">            app.bombGuy.moveRight = true;</span>
<span class="fc" id="L593">            app.canMove = false;</span>
<span class="pc bpc" id="L594" title="1 of 4 branches missed.">        }else if (app.keyCode == 40 &amp;&amp; app.canMove == true){</span>
<span class="fc" id="L595">            app.bombGuy.moveDown = true;</span>
<span class="fc" id="L596">            app.canMove = false;</span>
<span class="pc bpc" id="L597" title="1 of 4 branches missed.">        }else if (app.keyCode == 38 &amp;&amp; app.canMove == true){</span>
<span class="fc" id="L598">            app.bombGuy.moveUp = true;</span>
<span class="fc" id="L599">            app.canMove = false;</span>
<span class="fc bfc" id="L600" title="All 2 branches covered.">        }else if (app.keyCode == 32){</span>
<span class="fc" id="L601">            app.bombGuy.putBomb = true;</span>
<span class="fc" id="L602">            app.loadConfig.createBombList(app);</span>
        }
<span class="fc" id="L604">    }</span>

    public void drawOnApp(App app) {
<span class="fc" id="L607">        app.count ++;</span>
<span class="fc" id="L608">        app.background(239, 129, 0);</span>
<span class="fc" id="L609">        app.loadConfig.drawMap(app.mapList, app);</span>
<span class="fc" id="L610">        app.loadConfig.gameOver(app);</span>
<span class="fc" id="L611">        app.loadConfig.loadLevel1(app);</span>
<span class="fc" id="L612">        app.loadConfig.loadLevel2(app);</span>
<span class="fc" id="L613">        app.loadConfig.loadGameWin(app);</span>
<span class="fc" id="L614">        app.loadConfig.drawAll(app);</span>
<span class="fc" id="L615">    }</span>

    public void setConfig(String path, App app){
<span class="fc" id="L618">        app.reset = true;</span>
<span class="fc" id="L619">        app.path = path;</span>
<span class="fc" id="L620">        app.configList = app.loadConfig.loadConfig(app.path);</span>
<span class="fc" id="L621">        app.loadConfig.loadLevel1(app);</span>
<span class="fc" id="L622">        app.reset = false;</span>
<span class="fc" id="L623">    }</span>
    public static void main(String[] args) {
<span class="nc" id="L625">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>